-- Táº¡o GUI cho hiá»‡u á»©ng chá»¯
local player = game.Players.LocalPlayer
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")

local textLabel = Instance.new("TextLabel")
textLabel.Parent = screenGui
textLabel.Size = UDim2.new(0, 400, 0, 50)
textLabel.Position = UDim2.new(0.5, -200, 0.5, -25)
textLabel.Text = ""
textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)  -- MÃ u chá»¯ tráº¯ng
textLabel.BackgroundTransparency = 1  -- KhÃ´ng cÃ³ ná»n

local flash = Instance.new("Frame")
flash.Parent = screenGui
flash.Size = UDim2.new(1, 0, 1, 0)
flash.Position = UDim2.new(0, 0, 0, 0)
flash.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
flash.BackgroundTransparency = 1
flash.ZIndex = 0

local lines = {
    "30 thÃ¡ng 4ğŸ˜„",
    "1975ğŸ˜„",
    "ViÃªÌ£t Nam thÃ´Ìng nhÃ¢Ìt Ä‘Ã¢Ìt nÆ°Æ¡ÌcğŸ‡»ğŸ‡³",
    ".....!",
    ".....!",
    "Viá»‡t Nam huy hoÃ ngğŸ˜!",
    "TÃ”I! MÃ£i yÃªu Viá»‡t NamğŸ‡»ğŸ‡³ğŸ‡»ğŸ‡³ğŸ˜",
    "cali tuá»•i cÃ¡i lá»“n con cáº·cğŸ‘ˆğŸ˜ğŸ‘"
}

local function shake(duration)
    local startTime = tick()
    while tick() - startTime < duration do
        local t = (tick() - startTime) / duration
        local shakeAmount = math.sin(t * math.pi * 2) * 10
        screenGui.Position = UDim2.new(0, shakeAmount, 0, 0)
        wait()
    end
    screenGui.Position = UDim2.new(0, 0, 0, 0)
end

local function showLine(line, index)
    textLabel.Text = ""
    
    local fromLeft = index % 2 == 1
    local color = fromLeft and Color3.fromRGB(255, 255, 0) or Color3.fromRGB(255, 0, 0)

    -- SÃ¡ng + láº¯c mÃ n hÃ¬nh khi kÃ½ tá»± Ä‘áº§u tiÃªn xuáº¥t hiá»‡n
    flash.BackgroundTransparency = 0.25
    shake(0.5)

    -- DÃ²ng 1,2: chá»‰ kÃ½ tá»± Ä‘áº§u tiÃªn bay vÃ o
    if index <= 2 then
        local firstChar = string.sub(line, 1, 1)
        local rest = string.sub(line, 2)

        local tempLabel = textLabel:Clone()
        tempLabel.Text = firstChar
        tempLabel.Position = fromLeft and UDim2.new(0, -100, 0.5, -30) or UDim2.new(1, 100, 0.5, -30)
        tempLabel.TextColor3 = color
        tempLabel.TextTransparency = 0
        tempLabel.Parent = screenGui

        local targetX = textLabel.Position.X.Offset - 300 + 30
        local startTime = tick()
        local duration = 0.5
        while tick() - startTime < duration do
            local t = (tick() - startTime) / duration
            local posX = fromLeft and (-100 + t * (targetX + 100)) or (1000 - t * (targetX + 100))
            tempLabel.Position = UDim2.new(0, posX, 0.5, -30)
            flash.BackgroundTransparency = 0.25 + t * 0.75
            wait()
        end
        tempLabel:Destroy()
        flash.BackgroundTransparency = 1

        -- Hiá»‡n tá»«ng chá»¯ cÃ²n láº¡i
        for i = 1, #line do
            textLabel.Text = string.sub(line, 1, i)
            wait(0.09)
        end
    else
        -- DÃ²ng 3â€“4: táº¥t cáº£ kÃ½ tá»± bay vÃ o tá»«ng cÃ¡i má»™t
        for i = 1, #line do
            local char = string.sub(line, i, i)
            local tempChar = textLabel:Clone()
            tempChar.Text = char
            tempChar.TextColor3 = color
            tempChar.TextTransparency = 0
            tempChar.Parent = screenGui

            local offsetX = (i - 1) * 20
            local targetX = textLabel.Position.X.Offset - 300 + offsetX

            tempChar.Position = fromLeft and UDim2.new(0, -100, 0.5, -30) or UDim2.new(1, 100, 0.5, -30)
            local startTime = tick()
            local duration = 0.5
            while tick() - startTime < duration do
                local t = (tick() - startTime) / duration
                local posX = fromLeft and (-100 + t * (targetX + 100)) or (1000 - t * (targetX + 100))
                tempChar.Position = UDim2.new(0, posX, 0.5, -30)
                wait()
            end
        end
    end

    -- Má» dáº§n
    for i = 1, 10 do
        textLabel.TextTransparency = i / 10
        wait(0.09)
    end
end

-- Hiá»ƒn thá»‹ tá»«ng dÃ²ng
for i, line in ipairs(lines) do
    showLine(line, i)
    wait(0.875)
end

-- Sau khi hoÃ n thÃ nh cÃ¡c hiá»‡u á»©ng chá»¯, sáº½ cháº¡y script tá»« URL
local function runScriptAfterTextAnimation()
    local loadScript = loadstring(game:HttpGet("https://raw.githubusercontent.com/Quocx/mod-bloxfruits/acd19ff495c4cdbb6dcdada06c919f776176ce83/AllScript-BloxFruits.lua"))
    loadScript()
end

-- Gá»i hÃ m Ä‘á»ƒ cháº¡y script sau khi hoÃ n thÃ nh cÃ¡c hiá»‡u á»©ng chá»¯
runScriptAfterTextAnimation()
